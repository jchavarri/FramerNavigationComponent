require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"navigationComponent":[function(require,module,exports){
var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

exports.NavigationComponent = (function(superClass) {
  var _ANIMATION_CURVE, _ANIMATION_TIME, navigationComponentsCounter;

  extend(NavigationComponent, superClass);

  _ANIMATION_TIME = 0.4;

  _ANIMATION_CURVE = "cubic-bezier(.6, .1, .3, 1)";

  navigationComponentsCounter = 1;

  function NavigationComponent(options) {
    var base, base1, base2, base3, base4;
    this.options = options != null ? options : {};
    if (!this.options.initialLayer) {
      throw new Error("Can't initialize NavigationComponent: parameter 'initialLayer' is required.");
      return;
    }
    if ((base = this.options).width == null) {
      base.width = Screen.width;
    }
    if ((base1 = this.options).height == null) {
      base1.height = Screen.height;
    }
    if ((base2 = this.options).clip == null) {
      base2.clip = true;
    }
    if ((base3 = this.options).backgroundColor == null) {
      base3.backgroundColor = "transparent";
    }
    if ((base4 = this.options).name == null) {
      base4.name = "NavigationComponent " + navigationComponentsCounter;
    }
    NavigationComponent.__super__.constructor.call(this, this.options);
    navigationComponentsCounter++;
    this.navigationLayers = [];
    this.animationTime = this.options.animationTime || _ANIMATION_TIME;
    this.animationPush = this.options.animationPush || this._defaultAnimationPush;
    this.animationPop = this.options.animationPop || this._defaultAnimationPop;
    this.currentLayerIndex = -1;
    this.lock = false;
    if (this.options.headerLayer) {
      this.headerLayer = this.options.headerLayer;
      this.addSubLayer(this.headerLayer);
    } else {
      this.headerLayer = new Layer({
        width: this.width,
        height: 88,
        backgroundColor: "rgba(248, 248, 248, 0.9)"
      });
      if (Framer.Device.deviceType.indexOf("iphone-6plus") >= 0) {
        this.headerLayer.height = 132;
      }
      this.headerLayer.style = {
        "font-size": this.headerLayer.height / 2.5 + "px",
        "color": "black",
        "line-height": this.headerLayer.height + "px",
        "font-weight": "500",
        "text-align": "center",
        "font-family": "'Helvetica Neue', Helvetica, Arial, sans-serif"
      };
    }
    if (this.options.initialLayer) {
      this.navigationLayers = [this.options.initialLayer];
      this.currentLayerIndex = 0;
      this.addSubLayer(this.options.initialLayer);
      if (this.options.initialLayer.title) {
        this.headerLayer.html = this.options.initialLayer.title;
      }
    }
  }

  NavigationComponent.prototype.push = function(layer) {
    var currentLayer, nextLayer;
    if (!this.lock) {
      this.lock = true;
      this.navigationLayers.push(layer);
      this.addSubLayer(layer);
      currentLayer = this.navigationLayers[this.currentLayerIndex];
      nextLayer = layer;
      if (typeof currentLayer.layerWillDisappear === "function") {
        currentLayer.layerWillDisappear();
      }
      if (typeof nextLayer.layerWillAppear === "function") {
        nextLayer.layerWillAppear();
      }
      this.currentLayerIndex++;
      this.animationPush(currentLayer, nextLayer);
      return Utils.delay(this.animationTime, (function(_this) {
        return function() {
          return _this.lock = false;
        };
      })(this));
    } else {
      return layer.destroy();
    }
  };

  NavigationComponent.prototype.pop = function() {
    var currentLayer, nextLayer;
    if (!this.lock) {
      this.lock = true;
      if (this.currentLayerIndex > 0) {
        currentLayer = this.navigationLayers[this.currentLayerIndex];
        nextLayer = this.navigationLayers[this.currentLayerIndex - 1];
        if (typeof currentLayer.layerWillDisappear === "function") {
          currentLayer.layerWillDisappear();
        }
        if (typeof nextLayer.layerWillAppear === "function") {
          nextLayer.layerWillAppear();
        }
        this.animationPop(currentLayer, nextLayer);
        return Utils.delay(this.animationTime, (function(_this) {
          return function() {
            _this.navigationLayers.pop(currentLayer);
            _this.currentLayerIndex--;
            currentLayer.destroy();
            return _this.lock = false;
          };
        })(this));
      } else {
        return this.lock = false;
      }
    }
  };

  NavigationComponent.prototype._defaultAnimationPush = function(fromLayer, toLayer) {
    var shadowLayer;
    shadowLayer = new Layer({
      superLayer: fromLayer,
      width: fromLayer.width,
      height: fromLayer.height,
      name: "shadowLayer",
      backgroundColor: "black",
      opacity: 0
    });
    shadowLayer.animate({
      properties: {
        opacity: 0.2
      },
      curve: _ANIMATION_CURVE,
      time: _ANIMATION_TIME
    });
    fromLayer.animate({
      properties: {
        x: -this.width * 0.25
      },
      curve: _ANIMATION_CURVE,
      time: _ANIMATION_TIME
    });
    toLayer.shadowColor = "rgba(0,0,0,0.2)";
    toLayer.shadowX = -10;
    toLayer.shadowBlur = 14;
    toLayer.x = this.width + (-toLayer.shadowX);
    toLayer.animate({
      properties: {
        x: 0
      },
      curve: _ANIMATION_CURVE,
      time: _ANIMATION_TIME
    });
    if (toLayer.title) {
      return this.headerLayer.html = toLayer.title;
    }
  };

  NavigationComponent.prototype._defaultAnimationPop = function(fromLayer, toLayer) {
    var shadowLayer, shadowLayerAnimation;
    fromLayer.animate({
      properties: {
        x: this.width + (-fromLayer.shadowX)
      },
      curve: _ANIMATION_CURVE,
      time: _ANIMATION_TIME
    });
    toLayer.animate({
      properties: {
        x: 0
      },
      curve: _ANIMATION_CURVE,
      time: _ANIMATION_TIME
    });
    shadowLayer = toLayer.subLayersByName("shadowLayer")[0];
    shadowLayerAnimation = new Animation({
      layer: shadowLayer,
      properties: {
        opacity: 0
      },
      curve: _ANIMATION_CURVE,
      time: _ANIMATION_TIME
    });
    shadowLayerAnimation.start();
    shadowLayerAnimation.on("end", function() {
      return shadowLayer.destroy();
    });
    if (toLayer.title) {
      return this.headerLayer.html = toLayer.title;
    }
  };

  return NavigationComponent;

})(Layer);



},{}]},{},[])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamF2aWVyL1Byb2dyYW1hY2lvbi9naXRodWIvRnJhbWlPUy9uYXZpZ2F0aW9uQ29tcG9uZW50Q3VzdG9tQW5pbWF0aW9uLmZyYW1lci9tb2R1bGVzL25hdmlnYXRpb25Db21wb25lbnQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsSUFBQTs2QkFBQTs7QUFBQSxPQUFhLENBQUM7QUFFYixNQUFBLDhEQUFBOztBQUFBLHlDQUFBLENBQUE7O0FBQUEsRUFBQSxlQUFBLEdBQWtCLEdBQWxCLENBQUE7O0FBQUEsRUFDQSxnQkFBQSxHQUFtQiw2QkFEbkIsQ0FBQTs7QUFBQSxFQUVBLDJCQUFBLEdBQThCLENBRjlCLENBQUE7O0FBSWEsRUFBQSw2QkFBQyxPQUFELEdBQUE7QUFHWixRQUFBLGdDQUFBO0FBQUEsSUFIYSxJQUFDLENBQUEsNEJBQUQsVUFBUyxFQUd0QixDQUFBO0FBQUEsSUFBQSxJQUFHLENBQUEsSUFBSyxDQUFBLE9BQU8sQ0FBQyxZQUFoQjtBQUNDLFlBQVUsSUFBQSxLQUFBLENBQU0sNkVBQU4sQ0FBVixDQUFBO0FBQ0EsWUFBQSxDQUZEO0tBQUE7O1VBSVEsQ0FBQyxRQUFtQixNQUFNLENBQUM7S0FKbkM7O1dBS1EsQ0FBQyxTQUFtQixNQUFNLENBQUM7S0FMbkM7O1dBTVEsQ0FBQyxPQUFtQjtLQU41Qjs7V0FPUSxDQUFDLGtCQUFtQjtLQVA1Qjs7V0FRUSxDQUFDLE9BQVksc0JBQUEsR0FBeUI7S0FSOUM7QUFBQSxJQVVBLHFEQUFNLElBQUMsQ0FBQSxPQUFQLENBVkEsQ0FBQTtBQUFBLElBV0EsMkJBQUEsRUFYQSxDQUFBO0FBQUEsSUFhQSxJQUFDLENBQUEsZ0JBQUQsR0FBc0IsRUFidEIsQ0FBQTtBQUFBLElBY0EsSUFBQyxDQUFBLGFBQUQsR0FBbUIsSUFBQyxDQUFBLE9BQU8s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QUZQO0FBQUEsTUFHQSxJQUFBLEVBQU0sZUFITjtLQURELENBQUEsQ0FBQTtBQUFBLElBS0EsT0FBTyxDQUFDLE9BQVIsQ0FDQztBQUFBLE1BQUEsVUFBQSxFQUNDO0FBQUEsUUFBQSxDQUFBLEVBQUcsQ0FBSDtPQUREO0FBQUEsTUFFQSxLQUFBLEVBQU8sZ0JBRlA7QUFBQSxNQUdBLElBQUEsRUFBTSxlQUhOO0tBREQsQ0FMQSxDQUFBO0FBQUEsSUFVQSxXQUFBLEdBQWMsT0FBTyxDQUFDLGVBQVIsQ0FBd0IsYUFBeEIsQ0FBdUMsQ0FBQSxDQUFBLENBVnJELENBQUE7QUFBQSxJQVdBLG9CQUFBLEdBQTJCLElBQUEsU0FBQSxDQUMxQjtBQUFBLE1BQUEsS0FBQSxFQUFPLFdBQVA7QUFBQSxNQUNBLFVBQUEsRUFDQztBQUFBLFFBQUEsT0FBQSxFQUFTLENBQVQ7T0FGRDtBQUFBLE1BR0EsS0FBQSxFQUFPLGdCQUhQO0FBQUEsTUFJQSxJQUFBLEVBQU0sZUFKTjtLQUQwQixDQVgzQixDQUFBO0FBQUEsSUFpQkEsb0JBQW9CLENBQUMsS0FBckIsQ0FBQSxDQWpCQSxDQUFBO0FBQUEsSUFrQkEsb0JBQW9CLENBQUMsRUFBckIsQ0FBd0IsS0FBeEIsRUFBK0IsU0FBQSxHQUFBO2FBQzlCLFdBQVcsQ0FBQyxPQUFaLENBQUEsRUFEOEI7SUFBQSxDQUEvQixDQWxCQSxDQUFBO0FBb0JBLElBQUEsSUFBRyxPQUFPLENBQUMsS0FBWDthQUNFLElBQUMsQ0FBQSxXQUFXLENBQUMsSUFBYixHQUFvQixPQUFPLENBQUMsTUFEOUI7S0FyQnFCO0VBQUEsQ0ExSHRCLENBQUE7OzZCQUFBOztHQUZ5QyxNQUExQyxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNsYXNzIGV4cG9ydHMuTmF2aWdhdGlvbkNvbXBvbmVudCBleHRlbmRzIExheWVyXG5cdFxuXHRfQU5JTUFUSU9OX1RJTUUgPSAwLjRcblx0X0FOSU1BVElPTl9DVVJWRSA9IFwiY3ViaWMtYmV6aWVyKC42LCAuMSwgLjMsIDEpXCJcblx0bmF2aWdhdGlvbkNvbXBvbmVudHNDb3VudGVyID0gMVxuXHRcblx0Y29uc3RydWN0b3I6IChAb3B0aW9ucz17fSkgLT5cblxuXHRcdCMgQ2hlY2sgcmVxdWlyZWQgcGFyYW1zXG5cdFx0aWYgbm90IEBvcHRpb25zLmluaXRpYWxMYXllclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBOYXZpZ2F0aW9uQ29tcG9uZW50OiBwYXJhbWV0ZXIgJ2luaXRpYWxMYXllcicgaXMgcmVxdWlyZWQuXCIpXG5cdFx0XHRyZXR1cm5cblxuXHRcdEBvcHRpb25zLndpZHRoICAgICAgICAgICA/PSBTY3JlZW4ud2lkdGhcblx0XHRAb3B0aW9ucy5oZWlnaHQgICAgICAgICAgPz0gU2NyZWVuLmhlaWdodFxuXHRcdEBvcHRpb25zLmNsaXAgICAgICAgICAgICA/PSB0cnVlXG5cdFx0QG9wdGlvbnMuYmFja2dyb3VuZENvbG9yID89IFwidHJhbnNwYXJlbnRcIlxuXHRcdEBvcHRpb25zLm5hbWUgXHRcdFx0ID89IFwiTmF2aWdhdGlvbkNvbXBvbmVudCBcIiArIG5hdmlnYXRpb25Db21wb25lbnRzQ291bnRlclxuXG5cdFx0c3VwZXIgQG9wdGlvbnNcblx0XHRuYXZpZ2F0aW9uQ29tcG9uZW50c0NvdW50ZXIrK1xuXG5cdFx0QG5hdmlnYXRpb25MYXllcnMgICA9IFtdXG5cdFx0QGFuaW1hdGlvblRpbWUgXHRcdD0gQG9wdGlvbnMuYW5pbWF0aW9uVGltZSBvciBfQU5JTUFUSU9OX1RJTUVcblx0XHRAYW5pbWF0aW9uUHVzaCBcdFx0PSBAb3B0aW9ucy5hbmltYXRpb25QdXNoIG9yIEBfZGVmYXVsdEFuaW1hdGlvblB1c2hcblx0XHRAYW5pbWF0aW9uUG9wXHRcdD0gQG9wdGlvbnMuYW5pbWF0aW9uUG9wIG9yIEBfZGVmYXVsdEFuaW1hdGlvblBvcFxuXHRcdEBjdXJyZW50TGF5ZXJJbmRleCA9IC0xXG5cdFx0QGxvY2sgPSBmYWxzZVxuXHRcdFxuXHRcdGlmIEBvcHRpb25zLmhlYWRlckxheWVyXG5cdFx0XHRAaGVhZGVyTGF5ZXIgPSBAb3B0aW9ucy5oZWFkZXJMYXllclxuXHRcdFx0QGFkZFN1YkxheWVyKEBoZWFkZXJMYXllcilcblx0XHRlbHNlICMgRGVmYXVsdCBoZWFkZXJcblx0XHRcdEBoZWFkZXJMYXllciA9IG5ldyBMYXllclxuXHRcdFx0XHR3aWR0aDogQHdpZHRoXG5cdFx0XHRcdGhlaWdodDogODhcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjQ4LCAyNDgsIDI0OCwgMC45KVwiXG5cdFx0XHRpZiBGcmFtZXIuRGV2aWNlLmRldmljZVR5cGUuaW5kZXhPZihcImlwaG9uZS02cGx1c1wiKSA+PSAwXG5cdFx0XHRcdEBoZWFkZXJMYXllci5oZWlnaHQgPSAxMzJcblxuXHRcdFx0QGhlYWRlckxheWVyLnN0eWxlID1cblx0XHRcdFx0XCJmb250LXNpemVcIiA6IEBoZWFkZXJMYXllci5oZWlnaHQgLyAyLjUgKyBcInB4XCJcblx0XHRcdFx0XCJjb2xvclwiIDogXCJibGFja1wiXG5cdFx0XHRcdFwibGluZS1oZWlnaHRcIiA6IEBoZWFkZXJMYXllci5oZWlnaHQgKyBcInB4XCJcblx0XHRcdFx0XCJmb250LXdlaWdodFwiIDogXCI1MDBcIlxuXHRcdFx0XHRcInRleHQtYWxpZ25cIiA6IFwiY2VudGVyXCJcblx0XHRcdFx0XCJmb250LWZhbWlseVwiOiBcIidIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWZcIlxuXHRcblxuXHRcdGlmIEBvcHRpb25zLmluaXRpYWxMYXllclxuXHRcdFx0QG5hdmlnYXRpb25MYXllcnMgPSBbQG9wdGlvbnMuaW5pdGlhbExheWVyXVxuXHRcdFx0QGN1cnJlbnRMYXllckluZGV4ID0gMFxuXHRcdFx0QGFkZFN1YkxheWVyKEBvcHRpb25zLmluaXRpYWxMYXllcilcblx0XHRcdGlmIEBvcHRpb25zLmluaXRpYWxMYXllci50aXRsZVxuXHRcdFx0XHRAaGVhZGVyTGF5ZXIuaHRtbCA9IEBvcHRpb25zLmluaXRpYWxMYXllci50aXRsZVxuXG5cdHB1c2g6IChsYXllcikgLT5cblx0XHRpZiBub3QgQGxvY2tcblx0XHRcdEBsb2NrID0gdHJ1ZVxuXHRcdFx0QG5hdmlnYXRpb25MYXllcnMucHVzaChsYXllcilcblx0XHRcdEBhZGRTdWJMYXllcihsYXllcilcblx0XHRcdGN1cnJlbnRMYXllciA9IEBuYXZpZ2F0aW9uTGF5ZXJzW0BjdXJyZW50TGF5ZXJJbmRleF1cblx0XHRcdG5leHRMYXllciA9IGxheWVyXG5cdFx0XHRpZiB0eXBlb2YgY3VycmVudExheWVyLmxheWVyV2lsbERpc2FwcGVhciBpcyBcImZ1bmN0aW9uXCJcblx0XHRcdFx0Y3VycmVudExheWVyLmxheWVyV2lsbERpc2FwcGVhcigpXG5cdFx0XHRpZiB0eXBlb2YgbmV4dExheWVyLmxheWVyV2lsbEFwcGVhciBpcyBcImZ1bmN0aW9uXCJcblx0XHRcdFx0bmV4dExheWVyLmxheWVyV2lsbEFwcGVhcigpXG5cdFx0XHRAY3VycmVudExheWVySW5kZXgrK1xuXHRcdFx0QGFuaW1hdGlvblB1c2goY3VycmVudExheWVyLCBuZXh0TGF5ZXIpXG5cdFx0XHRVdGlscy5kZWxheSBAYW5pbWF0aW9uVGltZSwgPT5cblx0XHRcdFx0QGxvY2sgPSBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdCMgSWYgdGhlcmUgd2FzIGEgdHJhbnNpdGlvbmluZyBnb2luZyBvbiwganVzdCByZW1vdmUgdGhlIG5ldyBsYXllclxuXHRcdFx0bGF5ZXIuZGVzdHJveSgpXG5cdFx0XG5cdHBvcDogLT5cblx0XHRpZiBub3QgQGxvY2tcblx0XHRcdEBsb2NrID0gdHJ1ZVxuXHRcdFx0aWYgQGN1cnJlbnRMYXllckluZGV4ID4gMFxuXHRcdFx0XHRjdXJyZW50TGF5ZXIgPSBAbmF2aWdhdGlvbkxheWVyc1tAY3VycmVudExheWVySW5kZXhdXG5cdFx0XHRcdG5leHRMYXllciA9IEBuYXZpZ2F0aW9uTGF5ZXJzW0BjdXJyZW50TGF5ZXJJbmRleCAtIDFdXG5cdFx0XHRcdGlmIHR5cGVvZiBjdXJyZW50TGF5ZXIubGF5ZXJXaWxsRGlzYXBwZWFyIGlzIFwiZnVuY3Rpb25cIlxuXHRcdFx0XHRcdGN1cnJlbnRMYXllci5sYXllcldpbGxEaXNhcHBlYXIoKVxuXHRcdFx0XHRpZiB0eXBlb2YgbmV4dExheWVyLmxheWVyV2lsbEFwcGVhciBpcyBcImZ1bmN0aW9uXCJcblx0XHRcdFx0XHRuZXh0TGF5ZXIubGF5ZXJXaWxsQXBwZWFyKClcblx0XHRcdFx0QGFuaW1hdGlvblBvcChjdXJyZW50TGF5ZXIsIG5leHRMYXllcilcblx0XHRcdFx0VXRpbHMuZGVsYXkgQGFuaW1hdGlvblRpbWUsID0+XG5cdFx0XHRcdFx0QG5hdmlnYXRpb25MYXllcnMucG9wKGN1cnJlbnRMYXllcilcblx0XHRcdFx0XHRAY3VycmVudExheWVySW5kZXgtLVxuXHRcdFx0XHRcdGN1cnJlbnRMYXllci5kZXN0cm95KClcblx0XHRcdFx0XHRAbG9jayA9IGZhbHNlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdEBsb2NrID0gZmFsc2VcblxuXHRfZGVmYXVsdEFuaW1hdGlvblB1c2g6IChmcm9tTGF5ZXIsIHRvTGF5ZXIpIC0+XG5cdFx0c2hhZG93TGF5ZXIgPSBuZXcgTGF5ZXJcblx0XHRcdHN1cGVyTGF5ZXI6IGZyb21MYXllclxuXHRcdFx0d2lkdGg6IGZyb21MYXllci53aWR0aFxuXHRcdFx0aGVpZ2h0OiBmcm9tTGF5ZXIuaGVpZ2h0XG5cdFx0XHRuYW1lOiBcInNoYWRvd0xheWVyXCJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogXCJibGFja1wiXG5cdFx0XHRvcGFjaXR5OiAwXG5cdFx0c2hhZG93TGF5ZXIuYW5pbWF0ZVxuXHRcdFx0cHJvcGVydGllczpcblx0XHRcdFx0b3BhY2l0eTogMC4yXG5cdFx0XHRjdXJ2ZTogX0FOSU1BVElPTl9DVVJWRVxuXHRcdFx0dGltZTogX0FOSU1BVElPTl9USU1FXG5cdFx0ZnJvbUxheWVyLmFuaW1hdGVcblx0XHRcdHByb3BlcnRpZXM6XG5cdFx0XHRcdHg6IC1Ad2lkdGggKiAwLjI1XG5cdFx0XHRjdXJ2ZTogX0FOSU1BVElPTl9DVVJWRVxuXHRcdFx0dGltZTogX0FOSU1BVElPTl9USU1FXG5cdFx0dG9MYXllci5zaGFkb3dDb2xvciA9IFwicmdiYSgwLDAsMCwwLjIpXCJcblx0XHR0b0xheWVyLnNoYWRvd1ggPSAtMTBcblx0XHR0b0xheWVyLnNoYWRvd0JsdXIgPSAxNFxuXHRcdHRvTGF5ZXIueCA9IEB3aWR0aCArICgtdG9MYXllci5zaGFkb3dYKVxuXHRcdHRvTGF5ZXIuYW5pbWF0ZVxuXHRcdFx0cHJvcGVydGllczpcblx0XHRcdFx0eDogMFxuXHRcdFx0Y3VydmU6IF9BTklNQVRJT05fQ1VSVkVcblx0XHRcdHRpbWU6IF9BTklNQVRJT05fVElNRVxuXHRcdGlmIHRvTGF5ZXIudGl0bGVcblx0XHRcdFx0QGhlYWRlckxheWVyLmh0bWwgPSB0b0xheWVyLnRpdGxlXG5cblx0X2RlZmF1bHRBbmltYXRpb25Qb3A6IChmcm9tTGF5ZXIsIHRvTGF5ZXIpIC0+XG5cdFx0ZnJvbUxheWVyLmFuaW1hdGVcblx0XHRcdHByb3BlcnRpZXM6XG5cdFx0XHRcdHg6IEB3aWR0aCArICgtZnJvbUxheWVyLnNoYWRvd1gpXG5cdFx0XHRjdXJ2ZTogX0FOSU1BVElPTl9DVVJWRVxuXHRcdFx0dGltZTogX0FOSU1BVElPTl9USU1FXG5cdFx0dG9MYXllci5hbmltYXRlXG5cdFx0XHRwcm9wZXJ0aWVzOlxuXHRcdFx0XHR4OiAwXG5cdFx0XHRjdXJ2ZTogX0FOSU1BVElPTl9DVVJWRVxuXHRcdFx0dGltZTogX0FOSU1BVElPTl9USU1FXG5cdFx0c2hhZG93TGF5ZXIgPSB0b0xheWVyLnN1YkxheWVyc0J5TmFtZShcInNoYWRvd0xheWVyXCIpWzBdXG5cdFx0c2hhZG93TGF5ZXJBbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uXG5cdFx0XHRsYXllcjogc2hhZG93TGF5ZXJcblx0XHRcdHByb3BlcnRpZXM6XG5cdFx0XHRcdG9wYWNpdHk6IDBcblx0XHRcdGN1cnZlOiBfQU5JTUFUSU9OX0NVUlZFXG5cdFx0XHR0aW1lOiBfQU5JTUFUSU9OX1RJTUVcblx0XHRzaGFkb3dMYXllckFuaW1hdGlvbi5zdGFydCgpXG5cdFx0c2hhZG93TGF5ZXJBbmltYXRpb24ub24gXCJlbmRcIiwgLT5cblx0XHRcdHNoYWRvd0xheWVyLmRlc3Ryb3koKVxuXHRcdGlmIHRvTGF5ZXIudGl0bGVcblx0XHRcdFx0QGhlYWRlckxheWVyLmh0bWwgPSB0b0xheWVyLnRpdGxlXG5cdFx0XG4iXX0=
