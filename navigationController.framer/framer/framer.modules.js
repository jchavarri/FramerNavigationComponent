require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"navigationController":[function(require,module,exports){
var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

exports.NavigationController = (function(superClass) {
  var _DEFAULT_ANIMATION_CURVE, _DEFAULT_ANIMATION_TIME, _navigationControllersCounter;

  extend(NavigationController, superClass);

  _DEFAULT_ANIMATION_TIME = 0.4;

  _DEFAULT_ANIMATION_CURVE = "cubic-bezier(.6, .1, .3, 1)";

  _navigationControllersCounter = 1;

  function NavigationController(options) {
    var base, base1, base2, base3, base4;
    this.options = options != null ? options : {};
    if (!this.options.initialLayer) {
      throw new Error("Can't initialize NavigationController: parameter 'initialLayer' is required.");
      return;
    }
    if ((base = this.options).width == null) {
      base.width = Screen.width;
    }
    if ((base1 = this.options).height == null) {
      base1.height = Screen.height;
    }
    if ((base2 = this.options).clip == null) {
      base2.clip = true;
    }
    if ((base3 = this.options).backgroundColor == null) {
      base3.backgroundColor = "transparent";
    }
    if ((base4 = this.options).name == null) {
      base4.name = "NavigationController " + _navigationControllersCounter;
    }
    NavigationController.__super__.constructor.call(this, this.options);
    _navigationControllersCounter++;
    this.navigationLayers = [];
    this.animationTime = this.options.animationTime || _DEFAULT_ANIMATION_TIME;
    this.animationPush = this.options.animationPush || this._defaultAnimationPush;
    this.animationPop = this.options.animationPop || this._defaultAnimationPop;
    this.currentLayerIndex = -1;
    this.lock = false;
    if (this.options.headerLayer) {
      this.headerLayer = this.options.headerLayer;
      this.addSubLayer(this.headerLayer);
    } else {
      this.headerLayer = new Layer({
        width: this.width,
        height: 88,
        backgroundColor: "rgba(248, 248, 248, 0.9)"
      });
      if (Framer.Device.deviceType.indexOf("iphone-6plus") >= 0) {
        this.headerLayer.height = 132;
      }
      this.headerLayer.style = {
        "font-size": this.headerLayer.height / 2.5 + "px",
        "color": "black",
        "line-height": this.headerLayer.height + "px",
        "font-weight": "500",
        "text-align": "center",
        "font-family": "'Helvetica Neue', Helvetica, Arial, sans-serif"
      };
    }
    if (this.options.initialLayer) {
      this.navigationLayers = [this.options.initialLayer];
      this.currentLayerIndex = 0;
      this.addSubLayer(this.options.initialLayer);
      if (this.options.initialLayer.title) {
        this.headerLayer.html = this.options.initialLayer.title;
      }
    }
  }

  NavigationController.prototype.push = function(layer) {
    var currentLayer, nextLayer;
    if (!this.lock) {
      this.lock = true;
      this.navigationLayers.push(layer);
      this.addSubLayer(layer);
      currentLayer = this.navigationLayers[this.currentLayerIndex];
      nextLayer = layer;
      if (typeof currentLayer.layerWillDisappear === "function") {
        currentLayer.layerWillDisappear();
      }
      if (typeof nextLayer.layerWillAppear === "function") {
        nextLayer.layerWillAppear();
      }
      this.currentLayerIndex++;
      this.animationPush(currentLayer, nextLayer);
      return Utils.delay(this.animationTime, (function(_this) {
        return function() {
          return _this.lock = false;
        };
      })(this));
    } else {
      return layer.destroy();
    }
  };

  NavigationController.prototype.pop = function() {
    var currentLayer, nextLayer;
    if (!this.lock) {
      this.lock = true;
      if (this.currentLayerIndex > 0) {
        currentLayer = this.navigationLayers[this.currentLayerIndex];
        nextLayer = this.navigationLayers[this.currentLayerIndex - 1];
        if (typeof currentLayer.layerWillDisappear === "function") {
          currentLayer.layerWillDisappear();
        }
        if (typeof nextLayer.layerWillAppear === "function") {
          nextLayer.layerWillAppear();
        }
        this.animationPop(currentLayer, nextLayer);
        return Utils.delay(this.animationTime, (function(_this) {
          return function() {
            _this.navigationLayers.pop(currentLayer);
            _this.currentLayerIndex--;
            currentLayer.destroy();
            return _this.lock = false;
          };
        })(this));
      } else {
        return this.lock = false;
      }
    }
  };

  NavigationController.prototype._defaultAnimationPush = function(fromLayer, toLayer) {
    var shadowLayer;
    shadowLayer = new Layer({
      superLayer: fromLayer,
      width: fromLayer.width,
      height: fromLayer.height,
      name: "shadowLayer",
      backgroundColor: "black",
      opacity: 0
    });
    shadowLayer.animate({
      properties: {
        opacity: 0.2
      },
      curve: _DEFAULT_ANIMATION_CURVE,
      time: _DEFAULT_ANIMATION_TIME
    });
    fromLayer.animate({
      properties: {
        x: -this.width * 0.25
      },
      curve: _DEFAULT_ANIMATION_CURVE,
      time: _DEFAULT_ANIMATION_TIME
    });
    toLayer.shadowColor = "rgba(0,0,0,0.2)";
    toLayer.shadowX = -10;
    toLayer.shadowBlur = 14;
    toLayer.x = this.width + (-toLayer.shadowX);
    toLayer.animate({
      properties: {
        x: 0
      },
      curve: _DEFAULT_ANIMATION_CURVE,
      time: _DEFAULT_ANIMATION_TIME
    });
    if (toLayer.title) {
      return this.headerLayer.html = toLayer.title;
    }
  };

  NavigationController.prototype._defaultAnimationPop = function(fromLayer, toLayer) {
    var shadowLayer, shadowLayerAnimation;
    fromLayer.animate({
      properties: {
        x: this.width + (-fromLayer.shadowX)
      },
      curve: _DEFAULT_ANIMATION_CURVE,
      time: _DEFAULT_ANIMATION_TIME
    });
    toLayer.animate({
      properties: {
        x: 0
      },
      curve: _DEFAULT_ANIMATION_CURVE,
      time: _DEFAULT_ANIMATION_TIME
    });
    shadowLayer = toLayer.subLayersByName("shadowLayer")[0];
    shadowLayerAnimation = new Animation({
      layer: shadowLayer,
      properties: {
        opacity: 0
      },
      curve: _DEFAULT_ANIMATION_CURVE,
      time: _DEFAULT_ANIMATION_TIME
    });
    shadowLayerAnimation.start();
    shadowLayerAnimation.on("end", function() {
      return shadowLayer.destroy();
    });
    if (toLayer.title) {
      return this.headerLayer.html = toLayer.title;
    }
  };

  return NavigationController;

})(Layer);



},{}]},{},[])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamF2aWVyL1Byb2dyYW1hY2lvbi9naXRodWIvRnJhbWlPUy9uYXZpZ2F0aW9uQ29udHJvbGxlci5mcmFtZXIvbW9kdWxlcy9uYXZpZ2F0aW9uQ29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBOzZCQUFBOztBQUFBLE9BQWEsQ0FBQztBQUdiLE1BQUEsZ0ZBQUE7O0FBQUEsMENBQUEsQ0FBQTs7QUFBQSxFQUFBLHVCQUFBLEdBQTBCLEdBQTFCLENBQUE7O0FBQUEsRUFDQSx3QkFBQSxHQUEyQiw2QkFEM0IsQ0FBQTs7QUFBQSxFQUlBLDZCQUFBLEdBQWdDLENBSmhDLENBQUE7O0FBTWEsRUFBQSw4QkFBQyxPQUFELEdBQUE7QUFHWixRQUFBLGdDQUFBO0FBQUEsSUFIYSxJQUFDLENBQUEsNEJBQUQsVUFBUyxFQUd0QixDQUFBO0FBQUEsSUFBQSxJQUFHLENBQUEsSUFBSyxDQUFBLE9BQU8sQ0FBQyxZQUFoQjtBQUNDLFlBQVUsSUFBQSxLQUFBLENBQU0sOEVBQU4sQ0FBVixDQUFBO0FBQ0EsWUFBQSxDQUZEO0tBQUE7O1VBSVEsQ0FBQyxRQUFtQixNQUFNLENBQUM7S0FKbkM7O1dBS1EsQ0FBQyxTQUFtQixNQUFNLENBQUM7S0FMbkM7O1dBTVEsQ0FBQyxPQUFtQjtLQU41Qjs7V0FPUSxDQUFDLGtCQUFtQjtLQVA1Qjs7V0FRUSxDQUFDLE9BQVksdUJBQUEsR0FBMEI7S0FSL0M7QUFBQSxJQVVBLHNEQUFNLElBQUMsQ0FBQSxPQUFQLENBVkEsQ0FBQTtBQUFBLElBYUEsNkJBQUEsRUFiQSxDQUFBO0FBQUEsSUFlQSxJQUFDLENBQUEsZ0JBQUQsR0FBc0IsRUFmdEIsQ0FBQTtBQUFBLElBZ0JBLElBQUMsQ0FBQSxhQUFELEdBQW1CLElBQUMsQ0FBQSxPQUFPLENBQUMsYUFBVCxJ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QUFBQSxNQUdBLElBQUEsRUFBTSx1QkFITjtLQURELENBQUEsQ0FBQTtBQUFBLElBS0EsT0FBTyxDQUFDLE9BQVIsQ0FDQztBQUFBLE1BQUEsVUFBQSxFQUNDO0FBQUEsUUFBQSxDQUFBLEVBQUcsQ0FBSDtPQUREO0FBQUEsTUFFQSxLQUFBLEVBQU8sd0JBRlA7QUFBQSxNQUdBLElBQUEsRUFBTSx1QkFITjtLQURELENBTEEsQ0FBQTtBQUFBLElBVUEsV0FBQSxHQUFjLE9BQU8sQ0FBQyxlQUFSLENBQXdCLGFBQXhCLENBQXVDLENBQUEsQ0FBQSxDQVZyRCxDQUFBO0FBQUEsSUFXQSxvQkFBQSxHQUEyQixJQUFBLFNBQUEsQ0FDMUI7QUFBQSxNQUFBLEtBQUEsRUFBTyxXQUFQO0FBQUEsTUFDQSxVQUFBLEVBQ0M7QUFBQSxRQUFBLE9BQUEsRUFBUyxDQUFUO09BRkQ7QUFBQSxNQUdBLEtBQUEsRUFBTyx3QkFIUDtBQUFBLE1BSUEsSUFBQSxFQUFNLHVCQUpOO0tBRDBCLENBWDNCLENBQUE7QUFBQSxJQWlCQSxvQkFBb0IsQ0FBQyxLQUFyQixDQUFBLENBakJBLENBQUE7QUFBQSxJQWtCQSxvQkFBb0IsQ0FBQyxFQUFyQixDQUF3QixLQUF4QixFQUErQixTQUFBLEdBQUE7YUFDOUIsV0FBVyxDQUFDLE9BQVosQ0FBQSxFQUQ4QjtJQUFBLENBQS9CLENBbEJBLENBQUE7QUFvQkEsSUFBQSxJQUFHLE9BQU8sQ0FBQyxLQUFYO2FBQ0UsSUFBQyxDQUFBLFdBQVcsQ0FBQyxJQUFiLEdBQW9CLE9BQU8sQ0FBQyxNQUQ5QjtLQXJCcUI7RUFBQSxDQTlIdEIsQ0FBQTs7OEJBQUE7O0dBSDBDLE1BQTNDLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY2xhc3MgZXhwb3J0cy5OYXZpZ2F0aW9uQ29udHJvbGxlciBleHRlbmRzIExheWVyXG5cdFxuXHQjIFByaXZhdGUgY2xhc3MgXCJjb25zdGFudHNcIlxuXHRfREVGQVVMVF9BTklNQVRJT05fVElNRSA9IDAuNFxuXHRfREVGQVVMVF9BTklNQVRJT05fQ1VSVkUgPSBcImN1YmljLWJlemllciguNiwgLjEsIC4zLCAxKVwiXG5cdFxuXHQjIFByaXZhdGUgdmFyaWFibGVzXG5cdF9uYXZpZ2F0aW9uQ29udHJvbGxlcnNDb3VudGVyID0gMVxuXHRcblx0Y29uc3RydWN0b3I6IChAb3B0aW9ucz17fSkgLT5cblxuXHRcdCMgQ2hlY2sgcmVxdWlyZWQgcGFyYW1zXG5cdFx0aWYgbm90IEBvcHRpb25zLmluaXRpYWxMYXllclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBOYXZpZ2F0aW9uQ29udHJvbGxlcjogcGFyYW1ldGVyICdpbml0aWFsTGF5ZXInIGlzIHJlcXVpcmVkLlwiKVxuXHRcdFx0cmV0dXJuXG5cblx0XHRAb3B0aW9ucy53aWR0aCAgICAgICAgICAgPz0gU2NyZWVuLndpZHRoXG5cdFx0QG9wdGlvbnMuaGVpZ2h0ICAgICAgICAgID89IFNjcmVlbi5oZWlnaHRcblx0XHRAb3B0aW9ucy5jbGlwICAgICAgICAgICAgPz0gdHJ1ZVxuXHRcdEBvcHRpb25zLmJhY2tncm91bmRDb2xvciA/PSBcInRyYW5zcGFyZW50XCJcblx0XHRAb3B0aW9ucy5uYW1lIFx0XHRcdCA/PSBcIk5hdmlnYXRpb25Db250cm9sbGVyIFwiICsgX25hdmlnYXRpb25Db250cm9sbGVyc0NvdW50ZXJcblxuXHRcdHN1cGVyIEBvcHRpb25zXG5cdFx0XG5cdFx0IyBJbmNyZW1lbnQgdGhlIG5hdiBjb250cm9sbGVycyBjb3VudGVyIGFmdGVyIGl0J3MgYmVlbiBjcmVhdGVkLCBmb3IgbGFiZWxsaW5nIHB1cnBvc2VzXG5cdFx0X25hdmlnYXRpb25Db250cm9sbGVyc0NvdW50ZXIrK1xuXG5cdFx0QG5hdmlnYXRpb25MYXllcnMgICA9IFtdXG5cdFx0QGFuaW1hdGlvblRpbWUgXHRcdD0gQG9wdGlvbnMuYW5pbWF0aW9uVGltZSBvciBfREVGQVVMVF9BTklNQVRJT05fVElNRVxuXHRcdEBhbmltYXRpb25QdXNoIFx0XHQ9IEBvcHRpb25zLmFuaW1hdGlvblB1c2ggb3IgQF9kZWZhdWx0QW5pbWF0aW9uUHVzaFxuXHRcdEBhbmltYXRpb25Qb3BcdFx0PSBAb3B0aW9ucy5hbmltYXRpb25Qb3Agb3IgQF9kZWZhdWx0QW5pbWF0aW9uUG9wXG5cdFx0QGN1cnJlbnRMYXllckluZGV4ID0gLTFcblx0XHRAbG9jayA9IGZhbHNlXG5cdFx0XG5cdFx0aWYgQG9wdGlvbnMuaGVhZGVyTGF5ZXJcblx0XHRcdEBoZWFkZXJMYXllciA9IEBvcHRpb25zLmhlYWRlckxheWVyXG5cdFx0XHRAYWRkU3ViTGF5ZXIoQGhlYWRlckxheWVyKVxuXHRcdGVsc2UgIyBEZWZhdWx0IGhlYWRlclxuXHRcdFx0QGhlYWRlckxheWVyID0gbmV3IExheWVyXG5cdFx0XHRcdHdpZHRoOiBAd2lkdGhcblx0XHRcdFx0aGVpZ2h0OiA4OFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNDgsIDI0OCwgMjQ4LCAwLjkpXCJcblx0XHRcdGlmIEZyYW1lci5EZXZpY2UuZGV2aWNlVHlwZS5pbmRleE9mKFwiaXBob25lLTZwbHVzXCIpID49IDBcblx0XHRcdFx0QGhlYWRlckxheWVyLmhlaWdodCA9IDEzMlxuXG5cdFx0XHRAaGVhZGVyTGF5ZXIuc3R5bGUgPVxuXHRcdFx0XHRcImZvbnQtc2l6ZVwiIDogQGhlYWRlckxheWVyLmhlaWdodCAvIDIuNSArIFwicHhcIlxuXHRcdFx0XHRcImNvbG9yXCIgOiBcImJsYWNrXCJcblx0XHRcdFx0XCJsaW5lLWhlaWdodFwiIDogQGhlYWRlckxheWVyLmhlaWdodCArIFwicHhcIlxuXHRcdFx0XHRcImZvbnQtd2VpZ2h0XCIgOiBcIjUwMFwiXG5cdFx0XHRcdFwidGV4dC1hbGlnblwiIDogXCJjZW50ZXJcIlxuXHRcdFx0XHRcImZvbnQtZmFtaWx5XCI6IFwiJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiXG5cdFxuXG5cdFx0aWYgQG9wdGlvbnMuaW5pdGlhbExheWVyXG5cdFx0XHRAbmF2aWdhdGlvbkxheWVycyA9IFtAb3B0aW9ucy5pbml0aWFsTGF5ZXJdXG5cdFx0XHRAY3VycmVudExheWVySW5kZXggPSAwXG5cdFx0XHRAYWRkU3ViTGF5ZXIoQG9wdGlvbnMuaW5pdGlhbExheWVyKVxuXHRcdFx0aWYgQG9wdGlvbnMuaW5pdGlhbExheWVyLnRpdGxlXG5cdFx0XHRcdEBoZWFkZXJMYXllci5odG1sID0gQG9wdGlvbnMuaW5pdGlhbExheWVyLnRpdGxlXG5cblx0cHVzaDogKGxheWVyKSAtPlxuXHRcdGlmIG5vdCBAbG9ja1xuXHRcdFx0QGxvY2sgPSB0cnVlXG5cdFx0XHRAbmF2aWdhdGlvbkxheWVycy5wdXNoKGxheWVyKVxuXHRcdFx0QGFkZFN1YkxheWVyKGxheWVyKVxuXHRcdFx0Y3VycmVudExheWVyID0gQG5hdmlnYXRpb25MYXllcnNbQGN1cnJlbnRMYXllckluZGV4XVxuXHRcdFx0bmV4dExheWVyID0gbGF5ZXJcblx0XHRcdGlmIHR5cGVvZiBjdXJyZW50TGF5ZXIubGF5ZXJXaWxsRGlzYXBwZWFyIGlzIFwiZnVuY3Rpb25cIlxuXHRcdFx0XHRjdXJyZW50TGF5ZXIubGF5ZXJXaWxsRGlzYXBwZWFyKClcblx0XHRcdGlmIHR5cGVvZiBuZXh0TGF5ZXIubGF5ZXJXaWxsQXBwZWFyIGlzIFwiZnVuY3Rpb25cIlxuXHRcdFx0XHRuZXh0TGF5ZXIubGF5ZXJXaWxsQXBwZWFyKClcblx0XHRcdEBjdXJyZW50TGF5ZXJJbmRleCsrXG5cdFx0XHRAYW5pbWF0aW9uUHVzaChjdXJyZW50TGF5ZXIsIG5leHRMYXllcilcblx0XHRcdFV0aWxzLmRlbGF5IEBhbmltYXRpb25UaW1lLCA9PlxuXHRcdFx0XHRAbG9jayA9IGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0IyBJZiB0aGVyZSB3YXMgYSB0cmFuc2l0aW9uaW5nIGdvaW5nIG9uLCBqdXN0IHJlbW92ZSB0aGUgbmV3IGxheWVyXG5cdFx0XHRsYXllci5kZXN0cm95KClcblx0XHRcblx0cG9wOiAtPlxuXHRcdGlmIG5vdCBAbG9ja1xuXHRcdFx0QGxvY2sgPSB0cnVlXG5cdFx0XHRpZiBAY3VycmVudExheWVySW5kZXggPiAwXG5cdFx0XHRcdGN1cnJlbnRMYXllciA9IEBuYXZpZ2F0aW9uTGF5ZXJzW0BjdXJyZW50TGF5ZXJJbmRleF1cblx0XHRcdFx0bmV4dExheWVyID0gQG5hdmlnYXRpb25MYXllcnNbQGN1cnJlbnRMYXllckluZGV4IC0gMV1cblx0XHRcdFx0aWYgdHlwZW9mIGN1cnJlbnRMYXllci5sYXllcldpbGxEaXNhcHBlYXIgaXMgXCJmdW5jdGlvblwiXG5cdFx0XHRcdFx0Y3VycmVudExheWVyLmxheWVyV2lsbERpc2FwcGVhcigpXG5cdFx0XHRcdGlmIHR5cGVvZiBuZXh0TGF5ZXIubGF5ZXJXaWxsQXBwZWFyIGlzIFwiZnVuY3Rpb25cIlxuXHRcdFx0XHRcdG5leHRMYXllci5sYXllcldpbGxBcHBlYXIoKVxuXHRcdFx0XHRAYW5pbWF0aW9uUG9wKGN1cnJlbnRMYXllciwgbmV4dExheWVyKVxuXHRcdFx0XHRVdGlscy5kZWxheSBAYW5pbWF0aW9uVGltZSwgPT5cblx0XHRcdFx0XHRAbmF2aWdhdGlvbkxheWVycy5wb3AoY3VycmVudExheWVyKVxuXHRcdFx0XHRcdEBjdXJyZW50TGF5ZXJJbmRleC0tXG5cdFx0XHRcdFx0Y3VycmVudExheWVyLmRlc3Ryb3koKVxuXHRcdFx0XHRcdEBsb2NrID0gZmFsc2Vcblx0XHRcdGVsc2Vcblx0XHRcdFx0QGxvY2sgPSBmYWxzZVxuXG5cdF9kZWZhdWx0QW5pbWF0aW9uUHVzaDogKGZyb21MYXllciwgdG9MYXllcikgLT5cblx0XHRzaGFkb3dMYXllciA9IG5ldyBMYXllclxuXHRcdFx0c3VwZXJMYXllcjogZnJvbUxheWVyXG5cdFx0XHR3aWR0aDogZnJvbUxheWVyLndpZHRoXG5cdFx0XHRoZWlnaHQ6IGZyb21MYXllci5oZWlnaHRcblx0XHRcdG5hbWU6IFwic2hhZG93TGF5ZXJcIlxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBcImJsYWNrXCJcblx0XHRcdG9wYWNpdHk6IDBcblx0XHRzaGFkb3dMYXllci5hbmltYXRlXG5cdFx0XHRwcm9wZXJ0aWVzOlxuXHRcdFx0XHRvcGFjaXR5OiAwLjJcblx0XHRcdGN1cnZlOiBfREVGQVVMVF9BTklNQVRJT05fQ1VSVkVcblx0XHRcdHRpbWU6IF9ERUZBVUxUX0FOSU1BVElPTl9USU1FXG5cdFx0ZnJvbUxheWVyLmFuaW1hdGVcblx0XHRcdHByb3BlcnRpZXM6XG5cdFx0XHRcdHg6IC1Ad2lkdGggKiAwLjI1XG5cdFx0XHRjdXJ2ZTogX0RFRkFVTFRfQU5JTUFUSU9OX0NVUlZFXG5cdFx0XHR0aW1lOiBfREVGQVVMVF9BTklNQVRJT05fVElNRVxuXHRcdHRvTGF5ZXIuc2hhZG93Q29sb3IgPSBcInJnYmEoMCwwLDAsMC4yKVwiXG5cdFx0dG9MYXllci5zaGFkb3dYID0gLTEwXG5cdFx0dG9MYXllci5zaGFkb3dCbHVyID0gMTRcblx0XHR0b0xheWVyLnggPSBAd2lkdGggKyAoLXRvTGF5ZXIuc2hhZG93WClcblx0XHR0b0xheWVyLmFuaW1hdGVcblx0XHRcdHByb3BlcnRpZXM6XG5cdFx0XHRcdHg6IDBcblx0XHRcdGN1cnZlOiBfREVGQVVMVF9BTklNQVRJT05fQ1VSVkVcblx0XHRcdHRpbWU6IF9ERUZBVUxUX0FOSU1BVElPTl9USU1FXG5cdFx0aWYgdG9MYXllci50aXRsZVxuXHRcdFx0XHRAaGVhZGVyTGF5ZXIuaHRtbCA9IHRvTGF5ZXIudGl0bGVcblxuXHRfZGVmYXVsdEFuaW1hdGlvblBvcDogKGZyb21MYXllciwgdG9MYXllcikgLT5cblx0XHRmcm9tTGF5ZXIuYW5pbWF0ZVxuXHRcdFx0cHJvcGVydGllczpcblx0XHRcdFx0eDogQHdpZHRoICsgKC1mcm9tTGF5ZXIuc2hhZG93WClcblx0XHRcdGN1cnZlOiBfREVGQVVMVF9BTklNQVRJT05fQ1VSVkVcblx0XHRcdHRpbWU6IF9ERUZBVUxUX0FOSU1BVElPTl9USU1FXG5cdFx0dG9MYXllci5hbmltYXRlXG5cdFx0XHRwcm9wZXJ0aWVzOlxuXHRcdFx0XHR4OiAwXG5cdFx0XHRjdXJ2ZTogX0RFRkFVTFRfQU5JTUFUSU9OX0NVUlZFXG5cdFx0XHR0aW1lOiBfREVGQVVMVF9BTklNQVRJT05fVElNRVxuXHRcdHNoYWRvd0xheWVyID0gdG9MYXllci5zdWJMYXllcnNCeU5hbWUoXCJzaGFkb3dMYXllclwiKVswXVxuXHRcdHNoYWRvd0xheWVyQW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvblxuXHRcdFx0bGF5ZXI6IHNoYWRvd0xheWVyXG5cdFx0XHRwcm9wZXJ0aWVzOlxuXHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRjdXJ2ZTogX0RFRkFVTFRfQU5JTUFUSU9OX0NVUlZFXG5cdFx0XHR0aW1lOiBfREVGQVVMVF9BTklNQVRJT05fVElNRVxuXHRcdHNoYWRvd0xheWVyQW5pbWF0aW9uLnN0YXJ0KClcblx0XHRzaGFkb3dMYXllckFuaW1hdGlvbi5vbiBcImVuZFwiLCAtPlxuXHRcdFx0c2hhZG93TGF5ZXIuZGVzdHJveSgpXG5cdFx0aWYgdG9MYXllci50aXRsZVxuXHRcdFx0XHRAaGVhZGVyTGF5ZXIuaHRtbCA9IHRvTGF5ZXIudGl0bGVcblx0XHRcbiJdfQ==
